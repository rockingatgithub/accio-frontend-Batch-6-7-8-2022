<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button onclick="callPromise()" > Call Promise </button>
    <script>

        function callPromise() {
            let promise = new Promise(function(resolve, reject) {
            setTimeout(() => resolve("done!"), 1000);
            // setTimeout(() => reject(new Error("Whoops!")), 1000);
            });

            // resolve runs the first function in .then
            promise.then(
            result => alert(result), // shows "done!" after 1 second
            ).catch((error) => {  console.log(error)  });




            //all method ....

//             Promise.all([
//   new Promise(resolve => setTimeout(() => resolve(1), 3000)), // 1
//   new Promise(resolve => setTimeout(() => resolve(2), 2000)), // 2
//   new Promise(resolve => setTimeout(() => resolve(3), 1000))  // 3
// ]).then(alert); // 1,2,3 when promises are ready: each promise contributes an array member




        }


        //call back hell / pyramid of doom
        
        let xhrobj = new XMLHttpRequest();

        xhrobj.open('login');

        xhrobj.onload = () => {

            xhrobj.open('profile')

            xhrobj.onload = () => {
                xhrobj.open('wall')

                xhrobj.onload = () => {

                }
            }
        }

    </script>
</body>
</html>